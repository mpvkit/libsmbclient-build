--- a/lib/replace/replace.c
+++ b/lib/replace/replace.c
@@ -824,19 +824,7 @@ int rep_strerror_r(int errnum, char *buf, size_t buflen)
 #undef strerror_r
 int rep_strerror_r(int errnum, char *buf, size_t buflen)
 {
-	char *s = strerror_r(errnum, buf, buflen);
-	if (s == NULL) {
-		/* Shouldn't happen, should always get a string */
-		return EINVAL;
-	}
-	if (s != buf) {
-		strlcpy(buf, s, buflen);
-		if (strlen(s) > buflen - 1) {
-			return ERANGE;
-		}
-	}
-	return 0;
-
+	return strerror_r(errnum, buf, buflen);
 }
 #endif
 
-- 
2.37.5

